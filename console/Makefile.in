# Generated automatically from Makefile.in by configure.
#Makefile for streamripper

bindir = /usr/local/bin
SHELL = /bin/sh
CC = @CC@

LDFLAGS = @THREADLIBS@ -lm
INCPATHS = -I ../libmad -I ../lib 
CFLAGS = @CFLAGS@
DEFS = -D_REENTRANT -DUSE_LAYER3 -DHAVE_MPGLIB -DNOANALYSIS -D__DEBUG
COMPILE_CFLAGS = $(CFLAGS) $(DEFS) $(INCPATHS)

LIBPATH = ../lib
INSTALL = /usr/bin/install -c
MADLIBPATH= ../libmad
MADLIBOBJS = $(MADLIBPATH)/.libs/libmad.a 

LIBOBJS =  $(LIBPATH)/cbuffer.o \
	$(LIBPATH)/util.o \
	$(LIBPATH)/debug.o \
	$(LIBPATH)/filelib.o \
	$(LIBPATH)/socklib.o \
	$(LIBPATH)/http.o \
	$(LIBPATH)/inet.o \
	$(LIBPATH)/threadlib.o \
	$(LIBPATH)/mpeg.o \
	$(LIBPATH)/findsep.o \
	$(LIBPATH)/ripstream.o \
	$(LIBPATH)/ripshout.o \
	$(LIBPATH)/relaylib.o \
	$(LIBPATH)/rip_manager.o

all: madlib libripper console

madlib:
	@echo "Compiling madlib library"
	@cd $(MADLIBPATH); make

libripper:
	@echo "Compiling streamripper library functions -"
	@cd ../lib; make

console: streamripper.c 
	$(CC) $(COMPILE_CFLAGS) $(LIBOBJS) $(MADLIBOBJS) streamripper.c -o streamripper $(LDFLAGS)

test:	test.c libripper mpglib123
	$(CC) $(COMPILE_CFLAGS) $(LIBOBJS) $(MADLIBOBJS) test.c -o test $(LDFLAGS)

clean:
	rm -f streamripper *.o $(LIBPATH)/*.o $(MPGLIBPATH)/*.o *.core core

