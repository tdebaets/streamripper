# Generated automatically from Makefile.in by configure.
#Makefile for streamripper

bindir = /usr/local/bin
SHELL = /bin/sh
CC = @CC@

LDFLAGS = @THREADLIBS@ -lm
INCPATHS = -I ../mpglib -I ../lib
CFLAGS = @CFLAGS@
DEFS = -D_REENTRANT -DUSE_LAYER3 -DHAVE_MPGLIB -DNOANALYSIS -D__DEBUG
COMPILE_CFLAGS = $(CFLAGS) $(DEFS) $(INCPATHS)

LIBPATH = ../lib
MPGLIBPATH = ../mpglib

INSTALL = /usr/bin/install -c
MPGLIBOBJS = $(MPGLIBPATH)/VbrTag.o  \
	$(MPGLIBPATH)/common.o  \
	$(MPGLIBPATH)/dct64.o  \
	$(MPGLIBPATH)/decode.o \
	$(MPGLIBPATH)/interface.o  \
	$(MPGLIBPATH)/layer3.o  \
	$(MPGLIBPATH)/tabinit.o 

LIBOBJS =  $(LIBPATH)/cbuffer.o \
	$(LIBPATH)/util.o \
	$(LIBPATH)/filelib.o \
	$(LIBPATH)/socklib.o \
	$(LIBPATH)/http.o \
	$(LIBPATH)/inet.o \
	$(LIBPATH)/threadlib.o \
	$(LIBPATH)/live365info.o \
	$(LIBPATH)/mpeg.o \
	$(LIBPATH)/findsep.o \
	$(LIBPATH)/ripstream.o \
	$(LIBPATH)/riplive365.o \
	$(LIBPATH)/ripshout.o \
	$(LIBPATH)/relaylib.o \
	$(LIBPATH)/rip_manager.o

all: mpglib123 libripper console

mpglib123:
	@echo "Compiling mpglib, MP3 decoding library -"
	@cd ../mpglib; make

libripper:
	@echo "Compiling streamripper library functions -"
	@cd ../lib; make

console: streamripper.c 
	$(CC) $(COMPILE_CFLAGS) $(LIBOBJS) $(MPGLIBOBJS) streamripper.c -o streamripper $(LDFLAGS)

test:	test.c libripper mpglib123
	$(CC) $(COMPILE_CFLAGS) $(LIBOBJS) $(MPGLIBOBJS) test.c -o test $(LDFLAGS)

clean:
	rm -f streamripper *.o $(LIBPATH)/*.o $(MPGLIBPATH)/*.o *.core core

